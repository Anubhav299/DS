<!DOCTYPE html>
<html>
<head>
	<title>Expense Splitter</title>
	<link rel="stylesheet" href="m.css">

</head>

<body>
	<div class="container">
		<div id ="asd"><h1>Expense Splitter</h1></div> 
		<br>
		<div id = "zxc">
		<form>
            <label for="description">Description:</label>
			<input type="text" id="description" name="description" autocomplete="off"><br>

			<label for="name">Name:</label>
			<input type="text" id="name" name="name" autocomplete="off"><br>

			<label for="amount">Amount:</label>
			<input type="number" id="amount" name="amount"><br>

            <label for="date">Date:</label>
			<input type="date" id="date" name="date" ><br>

			<label for="date1">Due Date:</label>
			<input type="date" id="date1" name="date1" ><br>
			

			<button type="button" onclick="addExpense()">Add Expense</button>
		</form>

		<table id="expenseTable">
			<thead>
				<tr>
                    <th>Description</th>
					<th>Name</th>
					<th>Amount</th>
					<th>Date</th>
					<th>Due Date</th>
				</tr>
			</thead>
			<tbody></tbody>
		</table>

		<form>
			<label for="numPersons">Number of persons:</label>
			<input type="number" id="numPersons" name="numPersons" min="1" value="1"><br>

			<button type="button" onclick="splitExpense()">Split Expense</button>
		</form>
		<div id="result"></div>
		</div>
	</div>
	
	<script>
		let expenses = [];

		function addExpense() {
			// Get the input values
            let description = document.getElementById("description").value;
			let name = document.getElementById("name").value;
			let amount = document.getElementById("amount").value;
			let date = document.getElementById("date").value;
			let date1 = document.getElementById("date1").value;

			// Create an object for the expense
			let expense = {
                description: description,
				name: name,
				amount: amount,
				date : date,
				date1 : date1
			};

			// Add the expense to the array
			expenses.push(expense);

			// Update the table
			let table = document.getElementById("expenseTable").getElementsByTagName('tbody')[0];
			let row = table.insertRow();
            let descriptionCell = row.insertCell(0);
			let nameCell = row.insertCell(1);
			let amountCell = row.insertCell(2);
			let dateCell = row.insertCell(3);
			let date1Cell = row.insertCell(4);
            descriptionCell.innerHTML = description;
			nameCell.innerHTML = name;
			amountCell.innerHTML = amount;
			dateCell.innerHTML = date;
			date1Cell.innerHTML = date1;
		}

		function splitExpense() {
			// Get the number of persons
			let numPersons = document.getElementById("numPersons").value;

			// Calculate the total expense
			let totalExpense = 0;
			for (let i = 0; i < expenses.length; i++) {
				totalExpense += Number(expenses[i].amount);
			}

			// Calculate the split amount
			let splitAmount = totalExpense / numPersons;

			// Display the result
			let result = document.getElementById("result");
			result.innerHTML = "<b>Total Expense: </b>" +totalExpense + "<br>";
			result.innerHTML += "<b>Number of Persons: </b>" + numPersons + "<br>";
			result.innerHTML += "<b>Split Amount: </b>" + splitAmount + "<br>";
		}
	</script>
</body>
</html>
